<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resume Screener Pro</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="container">
        <!-- Sidebar: Configuration -->
        <aside class="sidebar">
            <div class="logo">
                <h2>ðŸ§¬ RecruitAI</h2>
            </div>

            <div class="config-section">
                <h3>Scoring Weights</h3>

                <div class="slider-group">
                    <div class="label-row">
                        <span>Keywords</span>
                        <span class="val">30%</span>
                    </div>
                    <input type="range" class="slider" value="30" disabled>
                </div>

                <div class="slider-group">
                    <div class="label-row">
                        <span>Experience</span>
                        <span class="val">30%</span>
                    </div>
                    <input type="range" class="slider" value="30" disabled>
                </div>

                <div class="slider-group">
                    <div class="label-row">
                        <span>Education</span>
                        <span class="val">10%</span>
                    </div>
                    <input type="range" class="slider" value="10" disabled>
                </div>

                <div class="slider-group">
                    <div class="label-row">
                        <span>Visuals</span>
                        <span class="val">30%</span>
                    </div>
                    <input type="range" class="slider" value="30" disabled>
                </div>

                <p class="info-text">Weights auto-optimized by AI</p>
            </div>

            <div class="workflow-steps">
                <div class="step active">Job Description</div>
                <div class="step">Candidate Resumes</div>
                <div class="step">AI Analysis</div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header>
                <h1>New Screening Campaign</h1>
                <div class="actions">
                    <input type="number" id="top-n-input" value="5" min="1" max="50">
                    <label>Shortlist Top N</label>
                </div>
            </header>

            <section class="upload-area" id="drop-zone">
                <div class="drop-box" id="jd-drop">
                    <span class="icon">ðŸ“„</span>
                    <h3>Job Description</h3>
                    <!-- Option 1: Paste Text -->
                    <textarea id="jd-text" placeholder="Paste Job Description text here..." rows="4"
                        style="width: 90%; margin-bottom: 0.5rem; padding: 0.5rem; border-radius: 6px; border: 1px solid #cbd5e1;"></textarea>

                    <!-- Option 2: Upload File -->
                    <p style="font-size: 0.9rem; color: #64748b;">OR Drag & Drop (.txt, .pdf)</p>
                    <input type="file" id="jd-file" hidden accept=".pdf,.txt">
                    <div id="jd-name" class="file-name"></div>
                </div>

                <div class="drop-box" id="resume-drop">
                    <!-- Manual Upload Section -->
                    <div id="upload-section">
                        <span class="icon">ðŸ‘¥</span>
                        <h3>Upload Resumes</h3>
                        <p>Drag & drop .pdf files</p>
                        <input type="file" id="resume-files" hidden multiple accept=".pdf,.txt">
                        <div id="resume-count" class="file-name"></div>
                    </div>

                </div>
            </section>

            <!-- Gmail Integration Section (Moved outside upload area) -->
            <section class="gmail-section"
                style="margin-bottom: 2rem; padding: 1rem; border: 1px solid #cbd5e1; border-radius: 8px; background: white;">
                <label
                    style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer; color: #475569; font-weight: 600; font-size: 1rem; margin-bottom: 0.5rem;">
                    <input type="checkbox" id="gmail-checkbox" style="width: 1.2rem; height: 1.2rem;">
                    <span>Include Gmail Resumes ðŸ“§</span>
                </label>

                <div id="gmail-inputs" class="hidden" style="margin-top: 1rem; padding-left: 2rem;">
                    <div style="display:flex; gap: 1rem; align-items:center;">
                        <div style="display:flex; flex-direction:column; gap:0.3rem;">
                            <label style="font-size:0.8rem; color:#64748b;">Start Date</label>
                            <input type="date" id="start-date"
                                style="padding: 0.5rem; border: 1px solid #cbd5e1; border-radius: 6px; font-family:inherit;">
                        </div>
                        <span style="font-weight:600; color:#cbd5e1;">to</span>
                        <div style="display:flex; flex-direction:column; gap:0.3rem;">
                            <label style="font-size:0.8rem; color:#64748b;">End Date</label>
                            <input type="date" id="end-date"
                                style="padding: 0.5rem; border: 1px solid #cbd5e1; border-radius: 6px; font-family:inherit;">
                        </div>
                    </div>
                    <p style="font-size:0.85rem; color:#64748b; margin-top:0.5rem;">The AI will search for emails with
                        PDF attachments containing "resume" or "cv".</p>
                </div>
            </section>

            <button id="analyze-btn" class="primary-btn">RUN ANALYSIS ðŸš€</button>

            <!-- Loading State -->
            <div id="loader" class="loader hidden">
                <div class="spinner"></div>
                <p>Analyzing candidates with AI...</p>
            </div>

            <!-- Results Section -->
            <section id="results-area" class="hidden">
                <div class="tabs" style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <button class="tab-btn active" onclick="switchTab('report')">AI Recommendation</button>
                        <button class="tab-btn" onclick="switchTab('table')">Detailed Scores</button>
                    </div>
                    <button id="open-report-btn" class="primary-btn"
                        style="width: auto; padding: 0.5rem 1rem; font-size: 0.9rem; background-color: #10b981;">ðŸ“‚ Open
                        Report Folder</button>
                </div>

                <div id="report-view" class="tab-content active">
                    <div class="ai-report-box">
                        <h3>ðŸ¤– AI Hiring Manager Analysis</h3>
                        <div id="ai-report-content" class="report-content">Loading analysis...</div>
                    </div>
                </div>

                <div id="table-view" class="tab-content">
                    <table class="results-table">
                        <thead>
                            <tr>
                                <th>Candidate</th>
                                <th>Total Score</th>
                                <th>Keywords</th>
                                <th>Experience</th>
                                <th>Analyze</th>
                            </tr>
                        </thead>
                        <tbody id="results-body">
                            <!-- Rows injected via JS -->
                        </tbody>
                    </table>
                </div>
            </section>
        </main>
    </div>
    <script src="script.js"></script>
</body>

</html>